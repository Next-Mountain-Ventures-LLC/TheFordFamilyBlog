@import "tailwindcss";

@plugin "tailwindcss-animate";

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --font-sans: 'Lato', ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-display: 'Playfair Display', serif;

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;

  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }

  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer base {
  :root {
    /* White background with soft colors for scrapbook aesthetic */
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    
    /* Darker blue primary color with better contrast */
    --primary: 210 100% 45%; /* Darkened for better contrast */
    --primary-foreground: 210 50% 98%;
    
    /* Deeper pink secondary color */
    --secondary: 335 80% 65%; /* Darkened for better contrast */
    --secondary-foreground: 335 80% 98%;
    
    /* Muted gray tones */
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 40%; /* Darkened for better contrast */
    
    /* Deeper green accent color */
    --accent: 130 60% 45%; /* Darkened for better contrast */
    --accent-foreground: 130 50% 98%;
    
    /* Utility colors */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: var(--primary);
    --radius: 0.5rem;
    
    /* Chart colors - adjusted for better contrast */
    --chart-1: 210 100% 45%;
    --chart-2: 335 80% 65%;
    --chart-3: 130 60% 45%;
    --chart-4: 45 100% 50%;
    --chart-5: 275 80% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-background text-foreground;
    font-synthesis-weight: none;
    text-rendering: optimizeLegibility;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
  }
  
  /* Scrapbook-style elements */
  .scrapbook-paper {
    @apply bg-white shadow-md p-6 rounded-md relative;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  
  .scrapbook-photo {
    @apply relative inline-block;
    padding: 8px;
    background: white;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transform: rotate(var(--rotate, 0deg));
    transition: transform 0.3s ease;
  }
  
  .scrapbook-photo:hover {
    transform: rotate(0deg) scale(1.02);
    z-index: 10;
  }
  
  .scrapbook-tape {
    @apply absolute w-16 h-4 bg-secondary opacity-50;
    top: -10px;
    left: 50%;
    transform: translateX(-50%) rotate(var(--rotate, 0deg));
  }
  
  .animate-on-scroll {
    opacity: 0.85; /* More transparency for a more visible fade effect */
    transition: opacity 1s ease, transform 1s ease;
    will-change: transform, opacity; /* Optimize for animations */
  }
  
  .animate-on-scroll.animate-left {
    transform: translateX(-300px); /* Increase distance to 300px */
  }
  
  .animate-on-scroll.animate-right {
    transform: translateX(300px); /* Increase distance to 300px */
  }
  
  .animate-up {
    transform: translateY(300px);
  }
  
  .animate-down {
    transform: translateY(-300px);
  }
  
  .animate-on-scroll.animate-visible {
    opacity: 1;
    transform: translate(0);
  }

  /* Accessibility improvements */
  .text-primary {
    font-weight: 500; /* Make primary text at least medium weight for better readability */
  }

  .text-xs.text-primary,
  .text-sm.text-primary {
    font-weight: 600; /* Smaller text in primary color needs to be bolder */
  }
  
  /* Special animation class for family bios that doesn't rely on scroll position */
  .family-bio {
    opacity: 0;
    transform: translateX(0);
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1.0); /* Smoother easing for luxury feel */
    animation-duration: 0.75s; /* Slightly faster but still elegant */
  }
  
  .family-bio.bio-left {
    animation-name: slideInLeft;
  }
  
  .family-bio.bio-right {
    animation-name: slideInRight;
  }
  
  @keyframes slideInLeft {
    0% {
      opacity: 0;
      transform: translateX(-150px); /* Slightly less distance for luxury feel */
    }
    20% {
      opacity: 0.7; /* Quick fade in */
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes slideInRight {
    0% {
      opacity: 0;
      transform: translateX(150px); /* Slightly less distance for luxury feel */
    }
    20% {
      opacity: 0.7; /* Quick fade in */
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  /* Hero photos animations with extra padding to avoid cutoff */
  .hero-section {
    padding-bottom: 250px; /* Extra padding to prevent cutoff */
    margin-bottom: 150px; /* Additional margin for safety */
    overflow: visible !important; /* Make sure nothing is cut off */
  }

  .hero-photo-1 {
    transform: translateY(-15px);
    transition: transform 1.2s ease, opacity 1.2s ease;
  }
  
  .hero-photo-2 {
    transform: translateY(15px);
    transition: transform 1.2s ease, opacity 1.2s ease;
  }
  
  .hero-photo-3 {
    transform: translateY(-10px);
    transition: transform 1.2s ease, opacity 1.2s ease;
  }
  
  .hero-photo-4 {
    transform: translateY(10px);
    transition: transform 1.2s ease, opacity 1.2s ease;
  }
  
  .hero-photo-1.animate-visible {
    transform: translateY(175px);
  }
  
  .hero-photo-2.animate-visible {
    transform: translateY(-175px);
  }
  
  .hero-photo-3.animate-visible {
    transform: translateY(175px);
  }
  
  .hero-photo-4.animate-visible {
    transform: translateY(-175px);
  }
  
  /* Allow family profiles to animate properly */
  .family-profile {
    margin-bottom: 4rem;
    overflow: visible;
  }
}
