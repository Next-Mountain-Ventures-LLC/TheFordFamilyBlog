---
import BlogLayout from "@/layouts/BlogLayout.astro";
import { getCollection } from 'astro:content';

// Get the blog post from content collection
const allPosts = await getCollection('blog');
const printingInventorsPost = allPosts.find((post) => {
  return post.slug.startsWith('3d-printing-young-inventors');
});

// Check if post exists
if (!printingInventorsPost) {
  throw new Error('Blog post not found');
}

const { Content } = await printingInventorsPost.render();

const post = {
  title: printingInventorsPost.data.title,
  description: printingInventorsPost.data.description,
  date: printingInventorsPost.data.date,
  author: printingInventorsPost.data.author,
  category: printingInventorsPost.data.category,
  imageUrl: printingInventorsPost.data.imageUrl,
  slug: printingInventorsPost.slug.replace(/_nw_.*$/, '') // Remove the signature from slug for URL
};
---

<BlogLayout
  title={post.title}
  description={post.description}
  author={post.author}
  date={post.date}
  category={post.category}
  imageUrl={post.imageUrl}
>
  <Content />
</BlogLayout>