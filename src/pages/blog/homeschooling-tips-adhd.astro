---
import BlogLayout from "@/layouts/BlogLayout.astro";
import { getCollection } from 'astro:content';

// Get the blog post from content collection
const allPosts = await getCollection('blog');
const homeschoolingTipsPost = allPosts.find((post) => {
  return post.slug.startsWith('homeschooling-tips-adhd');
});

// Check if post exists
if (!homeschoolingTipsPost) {
  throw new Error('Blog post not found');
}

const { Content } = await homeschoolingTipsPost.render();

const post = {
  title: homeschoolingTipsPost.data.title,
  description: homeschoolingTipsPost.data.description,
  date: homeschoolingTipsPost.data.date,
  author: homeschoolingTipsPost.data.author,
  category: homeschoolingTipsPost.data.category,
  imageUrl: homeschoolingTipsPost.data.imageUrl,
  slug: homeschoolingTipsPost.slug.replace(/_nw_.*$/, '') // Remove the signature from slug for URL
};
---

<BlogLayout
  title={post.title}
  description={post.description}
  author={post.author}
  date={post.date}
  category={post.category}
  imageUrl={post.imageUrl}
>
  <Content />
</BlogLayout>