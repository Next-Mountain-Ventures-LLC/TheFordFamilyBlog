---
import BlogLayout from "@/layouts/BlogLayout.astro";
import { getCollection } from 'astro:content';

// Get the blog post from content collection
const allPosts = await getCollection('blog');
const blogPost = allPosts.find((post) => {
  return post.slug === 'when-you-feel-funky';
});

// Check if post exists
if (!blogPost) {
  throw new Error('Blog post not found');
}

const { Content } = await blogPost.render();

const post = {
  title: blogPost.data.title,
  description: blogPost.data.description,
  date: blogPost.data.date,
  author: blogPost.data.author,
  category: blogPost.data.category,
  imageUrl: blogPost.data.imageUrl,
  slug: blogPost.slug
};
---

<BlogLayout
  title={post.title}
  description={post.description}
  author={post.author}
  date={post.date}
  category={post.category}
  imageUrl={post.imageUrl}
>
  <Content />
</BlogLayout>